Use the PostgreSQL DBMS in all tasks.
• Connect the up-to-date version of JDBC driver.
• To interact with the database, you may use classes and interfaces of the java.sql package (implementations of corresponding interfaces will be automatically included from the archive containing the driver).

Exercise 00: Tables and Entities
Turn-in directory : ex00/
Files to turn in : Chat-folder
Allowed functions : n/a

Today we will be implementing Chat functionality. In this chat, user can create or choose an existing chatroom. Each chatroom can have several users exchanging messages.
Key domain models which both SQL tables and Java classes must be implemented for are:

├─ users
│  ├─── User ID
│  ├─── Login
│  ├─── Password
│  ├─── List of created rooms
│  └─── List of chatrooms where a user socializes
├─ rooms
│  ├─── Chatroom id
│  ├─── Chatroom name
│  ├─── Chatroom owner
│  └─── List of messages in a chatroom
└─ messages
   ├─── Message id
   ├─── Message author
   ├─── Message text
   ├─── Message room
   └─── Message date/time

Create schema.sql file where you will describe CREATE TABLE operations to create tables for the project.

You should also create data.sql file with text data INSERTS (at least five in each table).
it is important to meet the following requirement! Let’s assume that Course entity has a one-to-many relationship with Lesson entity. Their object-oriented relation should then look as follows:

```java
class Course {
    private Long id;
    private List<Lesson> lessons;// there are numerous lessons in the course
    ...
}
class Lesson {
    private Long id;
    private Course course; // the lesson contains a course it is linked to
    ...
}
```

Additional requirements:

• To implement relational links, use one-to-many and many-to-many link types.
• Identifiers should be numeric.
• Identifiers shall be generated by DBMS.
• equals(), hashCode() and toString() shall be redefined correctly inside Java classes.

Exercise project structure:
Chat/
├── pom.xml
└── src/
    └── main/
        ├── java/
        │   └── fr.42.chat/
        │       ├── models/
        │       │   ├── User.java
        │       │   ├── Chatroom.java
        │       │   └── Message.java
        │       ├── repositories - repositories
        │       └── app
        │           └── Program.java
        └── resources/
            ├── schema.sql
            └── data.sql



--
Data Access Object (DAO, Repository) is a popular design pattern that allows to separate key business logic from data handling logic in an application.
Let’s assume that we have an interface called CoursesRepository which provides access to course lessons. This interface may look as follows:

```java
public interface CoursesRepository {
    Optional<Course> findById(Long id);
    void delete(Course course);
    void save(Course course);
    void update(Course course);
    List<Course> findAll();
}
```
You need to implement MessagesRepository with a `SINGLE Optional<Message> findById(Long id)` method and its MessagesRepositoryJdbcImpl implementation. This method shall return a Message object where author and chatroom will be specified. In turn, there is NO NEED to enter subentities (list of chatrooms, chatroom creator, etc.) for the author and the chatroom.

The implemented code must be tested in Program.java class. Example of the program operation is as follows (the output may differ):

```zsh
$> java Program
    Enter a message ID
    -> 5
    Message : {
    id=5,
    author={id=7,login="user",password="user",createdRooms=null,rooms=null},
    room={id=8,name="room",creator=null,messages=null},
    text="message",
    dateTime=01/01/01 15:69
    }
$>
```

• MessagesRepositoryJdbcImpl shall accept DataSource interface of java.sql package as a constructor parameter.
• For DataSource implementation, use HikariCP library—a pool of connections to the database which considerably expedite the use of storage.